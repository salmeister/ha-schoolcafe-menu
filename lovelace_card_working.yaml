# Simple and Reliable SchoolCafe Menu Card
# Minimal templating to avoid validation issues

type: vertical-stack
title: üçΩÔ∏è PLHS Lunch Menu
cards:
  # Today's Menu
  - type: entities
    title: "üìÖ Today's Menu"
    entities:
      - entity: sensor.schoolcafe_blue_line_today
        name: "üîµ Blue Line"
        icon: mdi:food
        secondary_info: >
          {% set items = state_attr('sensor.schoolcafe_blue_line_today', 'items') %}
          {% if items and items|length > 0 %}
            {% set item = items[0] %}
            {{ item.calories }} cal ‚Ä¢ {{ item.rating }}‚≠ê
          {% endif %}
      
      - entity: sensor.schoolcafe_gold_line_today
        name: "üü° Gold Line"
        icon: mdi:food
        secondary_info: >
          {% set items = state_attr('sensor.schoolcafe_gold_line_today', 'items') %}
          {% if items and items|length > 0 %}
            {% set item = items[0] %}
            {{ item.calories }} cal ‚Ä¢ {{ item.rating }}‚≠ê
          {% endif %}

  # This Week Overview
  - type: entities
    title: "üìã This Week"
    entities:
      - entity: sensor.schoolcafe_blue_line_tomorrow
        name: "Tomorrow - Blue Line"
        icon: mdi:calendar-today
        
      - entity: sensor.schoolcafe_gold_line_tomorrow
        name: "Tomorrow - Gold Line"
        icon: mdi:calendar-today

      - entity: sensor.schoolcafe_blue_line_day_2
        name: "Day 2 - Blue Line"
        icon: mdi:calendar-clock
        
      - entity: sensor.schoolcafe_gold_line_day_2
        name: "Day 2 - Gold Line"
        icon: mdi:calendar-clock

      - entity: sensor.schoolcafe_blue_line_day_3
        name: "Day 3 - Blue Line"
        icon: mdi:calendar-clock
        
      - entity: sensor.schoolcafe_gold_line_day_3
        name: "Day 3 - Gold Line"
        icon: mdi:calendar-clock

      - entity: sensor.schoolcafe_blue_line_day_4
        name: "Day 4 - Blue Line"
        icon: mdi:calendar-clock
        
      - entity: sensor.schoolcafe_gold_line_day_4
        name: "Day 4 - Gold Line"
        icon: mdi:calendar-clock